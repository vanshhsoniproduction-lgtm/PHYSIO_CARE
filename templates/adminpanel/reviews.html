{% extends 'adminpanel/base_mobile.html' %} {% block content %}
<div class="p-6">
  <h1 class="text-2xl font-heading font-bold text-primary mb-6">Reviews</h1>

  <div class="space-y-4">
    {% for review in reviews %}
    <div class="bg-white p-5 rounded-2xl border border-gray-100 shadow-sm">
      <div class="flex justify-between items-start mb-2">
        <div>
          <h3 class="font-bold text-primary">{{ review.patient.full_name }}</h3>
          <div class="flex gap-1 mt-1">
            {% for i in "12345" %}
            <i
              data-lucide="star"
              class="w-3 h-3 {% if forloop.counter <= review.rating %}text-yellow-400 fill-yellow-400{% else %}text-gray-300{% endif %}"
            ></i>
            {% endfor %}
          </div>
        </div>
        <span class="text-[10px] text-gray-400"
          >{{ review.created_at|date:"M d" }}</span
        >
      </div>

      <p class="text-sm text-gray-600 italic mb-4">"{{ review.comment }}"</p>

      <div class="flex gap-3 pt-3 border-t border-gray-50">
        {% if not review.is_approved %}
        <a
          href="{% url 'adminpanel:approve_review' review.id %}"
          class="flex-1 bg-green-50 text-green-600 py-2 rounded-lg text-xs font-bold text-center hover:bg-green-100 transition-colors"
        >
          Approve
        </a>
        {% else %}
        <span
          class="flex-1 bg-gray-50 text-gray-400 py-2 rounded-lg text-xs font-bold text-center cursor-default"
        >
          Approved
        </span>
        {% endif %}

        <a
          href="{% url 'adminpanel:delete_review' review.id %}"
          class="flex-1 bg-red-50 text-red-600 py-2 rounded-lg text-xs font-bold text-center hover:bg-red-100 transition-colors"
          onclick="return confirm('Delete this review?');"
        >
          Delete
        </a>
      </div>
    </div>
    {% empty %}
    <div class="text-center py-8">
      <p class="text-gray-400 text-sm">No reviews yet.</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
