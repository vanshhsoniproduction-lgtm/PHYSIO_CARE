<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>PhysioCare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0f766e", /* Teal 700 */
              secondary: "#1e293b", /* Slate 800 */
              accent: "#14b8a6", /* Teal 500 */
              bg: "#f1f5f9",
            },
            fontFamily: {
              sans: ["Outfit", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      body { -webkit-tap-highlight-color: transparent; }
      .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-bg font-sans text-secondary min-h-screen flex flex-col">
    <main class="flex-1 overflow-y-auto pb-24 scroll-smooth">
      {% if messages %}
      <div class="px-4 pt-4">
        {% for message in messages %}
        <div class="p-3 rounded-xl mb-2 text-xs font-bold shadow-sm flex items-center gap-2 {% if message.tags == 'error' %}bg-red-50 text-red-600 border border-red-100{% else %}bg-green-50 text-green-600 border border-green-100{% endif %}">
           <i data-lucide="{% if message.tags == 'error' %}alert-circle{% else %}check-circle{% endif %}" class="w-4 h-4"></i>
           {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %} 
      {% block content %}{% endblock %}
    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-200 pb-safe z-50">
      <div class="flex justify-around items-center h-16 max-w-md mx-auto">
        <a href="{% url 'appointments:home' %}" class="flex flex-col items-center gap-1 w-full {% if active_tab == 'home' %}text-primary{% else %}text-gray-400{% endif %}">
          <i data-lucide="layout-grid" class="w-6 h-6 {% if active_tab == 'home' %}fill-primary/20{% endif %}"></i>
          <span class="text-[10px] font-bold">Home</span>
        </a>
        <a href="{% url 'appointments:recent' %}" class="flex flex-col items-center gap-1 w-full {% if active_tab == 'recent' %}text-primary{% else %}text-gray-400{% endif %}">
          <i data-lucide="calendar-clock" class="w-6 h-6 {% if active_tab == 'recent' %}fill-primary/20{% endif %}"></i>
          <span class="text-[10px] font-bold">History</span>
        </a>
        <a href="{% url 'appointments:profile' %}" class="flex flex-col items-center gap-1 w-full {% if active_tab == 'profile' %}text-primary{% else %}text-gray-400{% endif %}">
          <i data-lucide="user-circle" class="w-6 h-6 {% if active_tab == 'profile' %}fill-primary/20{% endif %}"></i>
          <span class="text-[10px] font-bold">Profile</span>
        </a>
      </div>
    </nav>
    <script>lucide.createIcons();</script>
</body>
</html>